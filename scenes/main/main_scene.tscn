[gd_scene load_steps=15 format=3 uid="uid://fn4ucxsb1i6t"]

[ext_resource type="PackedScene" uid="uid://de6wu3uauymsr" path="res://scenes/background/background.tscn" id="1_b53p2"]
[ext_resource type="Texture2D" uid="uid://cwvtmyy8brm3w" path="res://assets/my/Star_01.png" id="2_i03k3"]
[ext_resource type="Script" path="res://scenes/background/starfield.gd" id="3_rtocj"]
[ext_resource type="PackedScene" uid="uid://ce1dw618jykrb" path="res://scenes/ship/ship.tscn" id="4_5rllk"]
[ext_resource type="Script" path="res://scenes/main/enemy_ship.gd" id="5_hb2m2"]
[ext_resource type="Script" path="res://scenes/ship/position_extrapolation.gd" id="6_k2ut1"]
[ext_resource type="PackedScene" uid="uid://f787xuov3u4t" path="res://scenes/gun/gun.tscn" id="6_udm3s"]
[ext_resource type="PackedScene" uid="uid://df6i8o1ckqhq3" path="res://scenes/gun/bullet_red.tscn" id="7_1vp7r"]
[ext_resource type="PackedScene" uid="uid://3cqmtymu5w3p" path="res://ui/ui.tscn" id="8_myah8"]
[ext_resource type="Texture2D" uid="uid://paowiimqoup8" path="res://ship_01.png" id="9_brjfx"]

[sub_resource type="Environment" id="Environment_1ojvs"]
background_mode = 3
tonemap_mode = 2
glow_enabled = true
glow_normalized = true
glow_strength = 0.8
glow_blend_mode = 0

[sub_resource type="MultiMesh" id="MultiMesh_6xpph"]
instance_count = 50
buffer = PackedFloat32Array(0, 3, 0.1155, 0.132, 0.1595, 1, 0, 0.1, 0, 3, 0.1155, 0.132, 0.1595, 1, 0, 0.1, 0.401924, 1.5, 0.1155, 0.132, 0.1595, 1, 0.00178633, 0.05, 0.401924, 1.5, 0.1155, 0.132, 0.1595, 1, 0.00178633, 0.05, 1.5, 0.401924, 0.1155, 0.132, 0.1595, 1, 0.00666667, 0.0133975, 1.5, 0.401924, 0.1155, 0.132, 0.1595, 1, 0.00666667, 0.0133975, 3, 0, 0.1155, 0.132, 0.1595, 1, 0.0133333, 0, 3, 0, 0.1155, 0.132, 0.1595, 1, 0.0133333, 0, 222, 0, 0.1155, 0.132, 0.1595, 1, 0.986667, 0, 222, 0, 0.1155, 0.132, 0.1595, 1, 0.986667, 0, 223.5, 0.401924, 0.1155, 0.132, 0.1595, 1, 0.993333, 0.0133975, 223.5, 0.401924, 0.1155, 0.132, 0.1595, 1, 0.993333, 0.0133975, 224.598, 1.5, 0.1155, 0.132, 0.1595, 1, 0.998214, 0.05, 224.598, 1.5, 0.1155, 0.132, 0.1595, 1, 0.998214, 0.05, 225, 3, 0.1155, 0.132, 0.1595, 1, 1, 0.1, 225, 3, 0.1155, 0.132, 0.1595, 1, 1, 0.1, 225, 28, 0.1155, 0.132, 0.1595, 1, 1, 0.933333, 225, 30, 0.1155, 0.132, 0.1595, 1, 1, 1, 225, 28, 0.1155, 0.132, 0.1595, 1, 1, 0.933333, 225, 30, 0.1155, 0.132, 0.1595, 1, 1, 1, 225, 28, 0.1155, 0.132, 0.1595, 1, 1, 0.933333, 225, 30, 0.1155, 0.132, 0.1595, 1, 1, 1, 225, 28, 0.1155, 0.132, 0.1595, 1, 1, 0.933333, 225, 30, 0.1155, 0.132, 0.1595, 1, 1, 1, 0, 28, 0.1155, 0.132, 0.1595, 1, 0, 0.933333, 0, 30, 0.1155, 0.132, 0.1595, 1, 0, 1, 0, 28, 0.1155, 0.132, 0.1595, 1, 0, 0.933333, 0, 30, 0.1155, 0.132, 0.1595, 1, 0, 1, 0, 28, 0.1155, 0.132, 0.1595, 1, 0, 0.933333, 0, 30, 0.1155, 0.132, 0.1595, 1, 0, 1, 0, 28, 0.1155, 0.132, 0.1595, 1, 0, 0.933333, 0, 30, 0.1155, 0.132, 0.1595, 1, 0, 1, 0, 3, 0.147, 0.168, 0.203, 1, 0, 0.1, 0.401924, 1.5, 0.147, 0.168, 0.203, 1, 0.00178633, 0.05, 1.5, 0.401924, 0.147, 0.168, 0.203, 1, 0.00666667, 0.0133975, 3, 0, 0.147, 0.168, 0.203, 1, 0.0133333, 0, 222, 0, 0.147, 0.168, 0.203, 1, 0.986667, 0, 223.5, 0.401924, 0.147, 0.168, 0.203, 1, 0.993333, 0.0133975, 224.598, 1.5, 0.147, 0.168, 0.203, 1, 0.998214, 0.05, 225, 3, 0.147, 0.168, 0.203, 1, 1, 0.1, 225, 28, 0.147, 0.168, 0.203, 1, 1, 0.933333, 225, 28, 0.147, 0.168, 0.203, 1, 1, 0.933333, 225, 28, 0.147, 0.168, 0.203, 1, 1, 0.933333, 225, 28, 0.147, 0.168, 0.203, 1, 1, 0.933333, 0, 28, 0.147, 0.168, 0.203, 1, 0, 0.933333, 0, 28, 0.147, 0.168, 0.203, 1, 0, 0.933333, 0, 28, 0.147, 0.168, 0.203, 1, 0, 0.933333, 0, 28, 0.147, 0.168, 0.203, 1, 0, 0.933333, 0, 1.96182e-44, 1.4013e-45, 0, 2.10195e-44, 1.96182e-44, 1.4013e-45, 1.82169e-44, 2.8026e-45, 1.4013e-45, 1.96182e-44, 1.82169e-44, 2.8026e-45, 1.68156e-44, 4.2039e-45, 2.8026e-45)

[sub_resource type="ArrayMesh" id="ArrayMesh_xlsq0"]
_surfaces = [{
"2d": true,
"aabb": AABB(-4, -4, 0, 8.00001, 8.00001, 0),
"attribute_data": PackedByteArray(0, 0, 128, 63, 0, 0, 128, 63, 0, 0, 0, 0, 0, 0, 128, 63, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 128, 63, 0, 0, 0, 0),
"format": 33558545,
"index_count": 6,
"index_data": PackedByteArray(3, 0, 0, 0, 1, 0, 1, 0, 2, 0, 3, 0),
"primitive": 3,
"vertex_count": 4,
"vertex_data": PackedByteArray(0, 0, 128, 64, 0, 0, 128, 64, 0, 0, 128, 192, 0, 0, 128, 64, 0, 0, 128, 192, 0, 0, 128, 192, 0, 0, 128, 64, 0, 0, 128, 192)
}]

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_ruxak"]
radius = 23.0
height = 80.0

[node name="Main" type="Node2D"]

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_1ojvs")

[node name="ParallaxBackground" parent="." instance=ExtResource("1_b53p2")]
scroll_offset = Vector2(738, 453)

[node name="ParallaxEnvironment" type="ParallaxBackground" parent="."]

[node name="Stars_0" type="ParallaxLayer" parent="ParallaxEnvironment"]
motion_mirroring = Vector2(4096, 4096)

[node name="Starfield" type="MultiMeshInstance2D" parent="ParallaxEnvironment/Stars_0"]
multimesh = SubResource("MultiMesh_6xpph")
texture = ExtResource("2_i03k3")
script = ExtResource("3_rtocj")
size = 4096.0

[node name="Star" type="MeshInstance2D" parent="ParallaxEnvironment/Stars_0/Starfield"]
unique_name_in_owner = true
mesh = SubResource("ArrayMesh_xlsq0")
texture = ExtResource("2_i03k3")

[node name="DummyShip" type="RigidBody2D" parent="."]
position = Vector2(3, -244)
collision_mask = 0
mass = 0.2
linear_velocity = Vector2(200, 0)
angular_velocity = -0.174533
angular_damp_mode = 1
script = ExtResource("5_hb2m2")
radial_force = 10.0

[node name="Gun" parent="DummyShip" node_paths=PackedStringArray("parent") instance=ExtResource("6_udm3s")]
position = Vector2(4, 10)
parent = NodePath("..")
bullet_scene = ExtResource("7_1vp7r")
fire_rate = 4.0
range = 1000.0
bullet_speed = 500.0
recoil = 0.1

[node name="Gun2" parent="DummyShip" node_paths=PackedStringArray("parent") instance=ExtResource("6_udm3s")]
position = Vector2(4, -10)
parent = NodePath("..")
bullet_scene = ExtResource("7_1vp7r")
fire_rate = 4.0
range = 1000.0
bullet_speed = 500.0
recoil = 0.1

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="DummyShip"]
polygon = PackedVector2Array(32, 0, -6, 16, -14, 16, -32, 5, -32, -5, -14, -16, -6, -16)

[node name="Area2D" type="Area2D" parent="DummyShip"]
collision_mask = 0

[node name="CollisionShape2D" type="CollisionShape2D" parent="DummyShip/Area2D"]
rotation = 1.5708
shape = SubResource("CapsuleShape2D_ruxak")

[node name="PositionExtrapolation" type="Node2D" parent="DummyShip"]
script = ExtResource("6_k2ut1")

[node name="Sprite2D" type="Sprite2D" parent="DummyShip/PositionExtrapolation"]
rotation = 1.5708
texture = ExtResource("9_brjfx")

[node name="UI" parent="." instance=ExtResource("8_myah8")]

[node name="Ship" parent="." instance=ExtResource("4_5rllk")]
_maneuver_thrust = 20.0

[connection signal="input_event" from="DummyShip/Area2D" to="DummyShip" method="_on_Area2D_input_event"]
